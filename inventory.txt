CREATE TABLE asset_types (
    type_id        NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    type_name      VARCHAR2(50) NOT NULL UNIQUE -- e.g., Computer, Printer, Switch, Biometric Scanner, SAN Box
);

CREATE TABLE asset_master (
    asset_id        NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    type_id         NUMBER NOT NULL REFERENCES asset_types(type_id),
    asset_tag       VARCHAR2(50) NOT NULL UNIQUE, -- Your barcode/label ID
    serial_number   VARCHAR2(100),
    model           VARCHAR2(100),
    manufacturer    VARCHAR2(100),
    purchase_date   DATE,
    warranty_expiry DATE,
    location        VARCHAR2(100),
    assigned_to     VARCHAR2(100),
    status          VARCHAR2(20) CHECK (status IN ('ACTIVE','REPAIRED','RETIRED')),
    remarks         VARCHAR2(4000)
);

CREATE TABLE asset_specs (
    spec_id         NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    asset_id        NUMBER NOT NULL REFERENCES asset_master(asset_id) ON DELETE CASCADE,
    spec_key        VARCHAR2(50) NOT NULL, -- e.g., CPU, RAM, Ports, RAID Type
    spec_value      VARCHAR2(200) NOT NULL
);


CREATE TABLE asset_history (
    history_id      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    asset_id        NUMBER NOT NULL REFERENCES asset_master(asset_id) ON DELETE CASCADE,
    action_date     DATE DEFAULT SYSDATE,
    action_type     VARCHAR2(50), -- ASSIGNED, MOVED, REPAIRED, RETIRED
    action_by       VARCHAR2(100),
    from_location   VARCHAR2(100),
    to_location     VARCHAR2(100),
    remarks         VARCHAR2(4000)
);

